# ==============================================================================
# Bastion IaC (Generation 2) - Cluster Inventory
# ==============================================================================
# This file defines the new, rebalanced three-node cluster architecture.
#
# ACTION: Replace the placeholder IP addresses with the real IPs of your Pis.
# ==============================================================================

[all:vars]
# This defines the dedicated administrative user for all Ansible operations.
ansible_user = pi_admin

# ------------------------------------------------------------------------------
# GROUP: pi_cluster
# This master group contains ALL nodes and is used for applying the common baseline.
# ------------------------------------------------------------------------------
[pi_cluster]
pi5-control   ansible_host=<IP_of_Pi5>
pi4-intel     ansible_host=<IP_of_Pi4B_8GB>  # The 8GB model for OpenCTI
pi4-mgmt      ansible_host=<IP_of_Pi4B_other>

# ------------------------------------------------------------------------------
# Functional Groups
# These smaller groups are used to target specific service deployments.
# ------------------------------------------------------------------------------

# The Core Services Hub runs all primary, persistent services.
[core_hub]
hosts:
  pi5-control

# The Intelligence & Analysis Node runs heavy, memory-intensive applications.
[intel_node]
hosts:
  pi4-intel

# The Management & Automation Node runs lightweight UI and automation tools.
[mgmt_node]
hosts:
  pi4-mgmt
